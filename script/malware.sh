#!/bin/sh
black=$(tput setaf 0)
red=$(tput setaf 1)
green=$(tput setaf 2)
yellow=$(tput setaf 3)
blue=$(tput setaf 4)
magenta=$(tput setaf 5)
cyan=$(tput setaf 6)
white=$(tput setaf 7)

normal=$(tput sgr0)

pause(){
  read -p "[Enter] para continuar..." Key
}

#whois -h whois.nic.ar tgn.com.ar >> 00.txt
# enscript -p- 00.txt | ps2pdf - hola.pdf 


val='0'
chek(){
	if [ -x /usr/bin/$1 ] || [ -x /usr/sbin/$1 ] || [ -x /usr/local/bin/$1 ] || [ -x /bin/$1 ]; then
          echo "El programa \"$1\" está instalado."
          val='1'
           else
          echo "No está instalado \"$1\"."
          val='0'
          
          fi
          
     
}

say(){

if [ $val == '0' ]
             then
               echo -n $caption
               echo -n $simbol
             else
               echo -n $caption | iconv -f utf-8 -t iso-8859-1|festival --tts
               echo -n $simbol
             fi     
}   


#soporte para voz comentar si no se desea esta capacidad
#chek festival

#reconocimiento  -->recoelccion de informacion - enumeracion - investigacion
#escaneo  --> identificacion de vulnerabilidades - definicion de vectores de ataque - validacion de la vulnerabilidad
#evaluacion --> pruebas con exploits - pruebas con credenciales - penetracion - escalamiento dprivilegios - post explotacion 
#analisis --> evaluacion de riesgo - reporte.
  



while true

do
clear
          printf "\t$green==========================================\n"
          
                   printf "\t$red[v]$greenVolver \n"
          printf "\t$green==========================================\n"
          printf "\t$red [*]-:"
          printf $normal
          
          read opc2
          case $opc2 in
          aslr)
          
          printf "\nProteccion randomize_va_space A:activar D:desactivar _>"
          read val
          
          if [ $val == "D" ] || [ $val == "d" ]
          then
          printf "Desactivar ASLR.."
          echo 0 | sudo tee /proc/sys/kernel/randomize_va_space
          #printf "Listo pulsar enter :) \n"
          fi
          
          if [ $val == "A" ] || [ $val == "a" ]
          then
          printf "Activar ASLR.."
          echo 2 | sudo tee /proc/sys/kernel/randomize_va_space
          #printf "Listo pulsar enter :) \n"
          fi
          pause;;
   
     syscall)
          #syscall segun el cpu x86_32 | x86_64 | arm
          cpu=$(gcc -dumpmachine)
          
          printf "\nIngrese el nombre de la funcion ej exit/write _>"
          read nom_f
          
          if [ $cpu == "x86_64-linux-gnu" ] 
          then
          printf "Syscall $cpu _>\n"
          cat /usr/include/x86_64-linux-gnu/asm/unistd_64.h | grep $nom_f
          fi
          
          if [ $cpu == "x86_32-linux-gnu" ]
          then
          printf "Syscall $cpu _>\n"
          cat /usr/include/x86_64-linux-gnu/asm/unistd_32.h | grep $nom_f
          fi
          
          if [ $cpu == "arm-linux-gnueabihf" ]
          then
          printf "Syscall $cpu _>\n"
          cat /usr/include/arm-linux-gnueabihf/asm/unistd.h | grep $nom_f
          fi
          
          if [ $cpu == "arm-linux-gnueabi" ]
          then
          printf "Syscall $cpu _>\n"
          cat /usr/include/arm-linux-gnueabi/asm/unistd.h | grep $nom_f
          fi
          
          pause;;
          
              shell)
           cpu=$(gcc -dumpmachine)
           if [ $cpu == "x86_64-linux-gnu" ] 
          then
          for i in $(objdump -d /$path$nom_f'_x86' | grep '^ ' | sed 's/ //g' | awk -F"[\t]" {'print $2'});
            do echo -n ${i:14:2}${i:12:2}${i:10:2}${i:8:2}${i:6:2}${i:4:2}${i:2:2}${i:0:2};done|sed 's/.\{2\}/\\x&/g'   
            printf "Listo pulsar enter :) \n"
          fi
          
          if [ $cpu == "arm-linux-gnueabi" ]
          then
          for i in $(objdump -d /$path$nom_f'_arm' | grep '^ ' | sed 's/ //g' | awk -F"[\t]" {'print $2'});
            do echo -n ${i:6:2}${i:4:2}${i:2:2}${i:0:2};done|sed 's/.\{2\}/\\x&/g'   
            printf "Listo pulsar enter :) \n"
          fi
     
          pause;;   
  
     cpuinfo)
           printf 'Informacion del procesador es:-->'
           cat /proc/cpuinfo
           pause;;
                 v)
          return 0;;
     *)
          printf "Seleciona una opcion valida :)";
          pause;;          
  esac
        
done
